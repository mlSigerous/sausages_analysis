# Showbox effectiveness (X5, Moscow + MO)

Небольшой кейс по оценке эффективности дополнительной выкладки (шоубокс) для продукта  
"Сосиски молочные останкино".

Данные включают дневные продажи по магазинам (Москва и МО) за Декабрь 2022 и Январь 2023, а также список магазинов, где размещался шоубокс (тестовая группа). 
Сопоставление тестовых магазинов с витриной продаж выполнено вручную через точное копирование адресов (one-to-one mapping), чтобы избежать ошибок из-за грязных справочников адресов.

## Что оценивалось

Эффект выкладки оценивался на двух уровнях:

Все сосиски Останкино (агрегат по ассортименту) в тестовых магазинах относительно контроля  
Целевой SKU 300г в тестовых магазинах относительно контроля

Метрика: продажи в кг на магазин-день (kg / store-day), чтобы сравнение было корректным при разном числе магазинов и дней.

Периоды в январе:
До: 1–11 января 2023  
После: 12–31 января 2023 (период размещения)

## Метод

Использован Difference-in-Differences (DiD):

DiD = (Test_after − Test_before) − (Control_after − Control_before)

Для устойчивости оценок построен 95% доверительный интервал через бутстрэп по дням (ресемплинг дней внутри периода до и после).

Дополнительно применен baseline-подход с декабрём:
ΔDiD (Jan−Dec) = DiD_Jan − DiD_Dec

Это позволяет частично учесть предсуществующие различия между тестом и контролем, если они проявлялись уже в декабре (до акции).

## Результаты

Итоговые значения сохранены в showbox_results.xlsx (лист "Summary").

Все сосиски Останкино (Jan):
DiD = -1.046 кг/магазин-день  
95% CI = [-2.631; 0.532]  
ΔDiD (Jan−Dec) = 0.189  
ΔCI = [-2.828; 3.255]

Целевой SKU 300г (Jan):
DiD = 0.370 кг/магазин-день  
95% CI = [-0.016; 0.778]  
ΔDiD (Jan−Dec) = -0.160  
ΔCI = [-0.698; 0.392]

Интерпретация:
По агрегату "все сосиски" инкрементальный эффект не подтвержден. Точечная оценка около нуля после учета baseline, интервал широкий и включает 0.  
По целевому SKU внутри января есть положительный сигнал, но baseline декабрь показывает, что тестовые магазины и до акции могли иметь систематически более высокие продажи этого SKU. После корректировки на baseline эффект статистически неотличим от нуля.


Основные графические визуализации вместе с краткой интерпретацией выгружены в файл "Оценка эффективности шоубоксов.pptx".
## Ограничения

Нет отдельной маркировки "продано именно с шоубокса", оценивается общий эффект на продажи в магазине.  
Нет данных по цене/выручке, оценка выполнена в кг (для целевого SKU можно дополнить расчетом в упаковках, если требуется).  
Возможны различия между тестом и контролем по типам магазинов и матрице SKU, что частично учитывалось baseline-подходом (Dec).

## Как воспроизвести (без исходных данных)

Ожидается, что у вас есть:
Excel с листами Dec 2022, Jan 2023 и список тестовых магазинов (адреса)  
mapping таблица с точным соответствием promo_addr -> CRM_addr (адрес из витрины продаж)

Зависимости:
```bash
pip install pandas numpy openpyxl matplotlib rapidfuzz
